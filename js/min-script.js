var write=document.querySelector(".location-button"),writeForm=document.querySelector(".write-to-us-form"),writeClose=writeForm.querySelector(".write-to-us-button-close"),writeName=writeForm.querySelector("[name=username]"),writeEmail=writeForm.querySelector("[name=email]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("writeName")}catch(e){isStorageSupport=!1}write.addEventListener("click",function(e){e.preventDefault(),writeForm.classList.add("modal-show"),storage?(writeName.value=storage,writeEmail.focus()):writeName.focus()}),writeClose.addEventListener("click",function(e){e.preventDefault(),writeForm.classList.remove("modal-show"),writeForm.classList.remove("modal-error"),writeName.classList.remove("modal-animation"),writeEmail.classList.remove("modal-animation")}),writeName.onfocus=function(){writeName.classList.contains("modal-animation")&&writeName.classList.remove("modal-animation")},writeEmail.onfocus=function(){writeEmail.classList.contains("modal-animation")&&writeEmail.classList.remove("modal-animation")},writeForm.addEventListener("submit",function(e){writeName.value&&writeEmail.value?isStorageSupport&&localStorage.setItem("writeName",writeName.value):(e.preventDefault(),writeForm.classList.remove("modal-error"),writeForm.offsetWidth=writeForm.offsetWidth,writeForm.classList.add("modal-error"),writeName.value||(writeName.classList.remove("modal-animation"),writeName.offsetWidth=writeName.offsetWidth,writeName.classList.add("modal-animation")),writeEmail.value||(writeEmail.classList.remove("modal-animation"),writeEmail.offsetWidth=writeEmail.offsetWidth,writeEmail.classList.add("modal-animation")))}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeForm.classList.contains("modal-show")&&(e.preventDefault(),writeForm.classList.remove("modal-show"),writeForm.classList.remove("modal-error"),writeName.classList.remove("modal-animation"),writeEmail.classList.remove("modal-animation"))});